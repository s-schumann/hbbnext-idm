<%= semantic_form_for @user do |f| %>
  <%= f.inputs do %>
    <%= f.input :alias %>
    <%= f.input :username %>
    <%= f.input :password %>
    <%= f.input :pin %>
    <%= f.input :devices %>
    <% @user.udrs.each do |udr| %>
      <%= f.semantic_fields_for udr do |f| %>
        <%= f.input :role, :as => "select", :label => "#{@user.devices.find(udr.device_id).display_name}" %>
      <% end %>
    <% end %> 
  <% end %>

  <%= f.actions do %>
    <%= f.action :submit, :as => :input %>
  <% end %>
<% end %>
